!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){(function(e){!function(n,r){"use strict";var i={};n.PubSub=i;var o=n.define;!function(e){var t={},n=-1;function r(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}function i(e,t,n){try{e(t,n)}catch(e){setTimeout(function(e){return function(){throw e}}(e),0)}}function o(e,t,n){e(t,n)}function s(e,n,r,s){var u,a=t[n],c=s?o:i;if(t.hasOwnProperty(n))for(u in a)a.hasOwnProperty(u)&&c(a[u],e,r)}function u(e,n,i,o){var u=function(e,t,n){return function(){var r=String(e),i=r.lastIndexOf(".");for(s(e,e,t,n);-1!==i;)r=r.substr(0,i),i=r.lastIndexOf("."),s(e,r,t,n)}}(e,n,o),a=function(e){var n=String(e),i=Boolean(t.hasOwnProperty(n)&&r(t[n])),o=n.lastIndexOf(".");for(;!i&&-1!==o;)n=n.substr(0,o),o=n.lastIndexOf("."),i=Boolean(t.hasOwnProperty(n)&&r(t[n]));return i}(e);return!!a&&(!0===i?u():setTimeout(u,0),!0)}e.publish=function(t,n){return u(t,n,!1,e.immediateExceptions)},e.publishSync=function(t,n){return u(t,n,!0,e.immediateExceptions)},e.subscribe=function(e,r){if("function"!=typeof r)return!1;t.hasOwnProperty(e)||(t[e]={});var i="uid_"+String(++n);return t[e][i]=r,i},e.subscribeOnce=function(t,n){var r=e.subscribe(t,function(){e.unsubscribe(r),n.apply(this,arguments)});return e},e.clearAllSubscriptions=function(){t={}},e.clearSubscriptions=function(e){var n;for(n in t)t.hasOwnProperty(n)&&0===n.indexOf(e)&&delete t[n]},e.unsubscribe=function(n){var r,i,o,s="string"==typeof n&&(t.hasOwnProperty(n)||function(e){var n;for(n in t)if(t.hasOwnProperty(n)&&0===n.indexOf(e))return!0;return!1}(n)),u=!s&&"string"==typeof n,a="function"==typeof n,c=!1;if(!s){for(r in t)if(t.hasOwnProperty(r)){if(i=t[r],u&&i[n]){delete i[n],c=n;break}if(a)for(o in i)i.hasOwnProperty(o)&&i[o]===n&&(delete i[o],c=!0)}return c}e.clearSubscriptions(n)}}(i),"function"==typeof o&&o.amd?o(function(){return i}):(void 0!==e&&e.exports&&(t=e.exports=i),t.PubSub=i,e.exports=t=i)}("object"==typeof window&&window||this)}).call(this,n(5)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),s=(r=o)&&r.__esModule?r:{default:r};var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.index=t.index,this.name=t.name,this.divCard,this.divShirt,this.divFront}return i(e,[{key:"create",value:function(){}},{key:"onSelect",value:function(){s.default.publish("signalFromCard",{run:"flip",index:this.index})}},{key:"signalFromManager",value:function(e,t){this[t]()}},{key:"flip",value:function(){this.divCard.classList.add("is-flipped"),this.divCard.removeEventListener("click",this.onSelect),Gl.cardTurns++}},{key:"flipBack",value:function(){var e=this;this.divCard.classList.remove("is-flipped"),setTimeout(function(){e.divCard.addEventListener("click",e.onSelect.bind(e)),s.default.publish("signalFromCard",{run:"flipBack",index:e.index})},300)}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),s=(r=o)&&r.__esModule?r:{default:r};var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.words=[],this.url=[],this.getData()}return i(e,[{key:"getData",value:function(){var e=this,t=new("onload"in new XMLHttpRequest?XMLHttpRequest:XDomainRequest);t.open("GET","./lesson/words.txt",!0),t.responseType="text",t.send(),t.onreadystatechange=function(){if(4==t.readyState)if(200==t.status){var n=t.responseText;e.parseWords(n)}else consolo.log("ошибка: "+(t.status?t.statusText:"запрос не удался"))}}},{key:"parseWords",value:function(e){for(var t=e.split(/\r?\n|\r/),n=0;n<t.length;n++){var r=t[n].split(":");""!==r&&""!==r[0]&&(this.words[n]=r.shift().trim(),this.url[n]=r.shift().trim())}0!=this.words.length&&s.default.publish("isReady",{words:this.words,imgUrl:this.url})}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Global=function(){return{cardTurns:0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),s=(r=o)&&r.__esModule?r:{default:r};var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.url=e.url,n.create(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),i(t,[{key:"create",value:function(){this.divCard=document.createElement("div"),this.divCard.setAttribute("class","card"),this.divShirt=document.createElement("div"),this.divShirt.setAttribute("class","surface shirt"),this.divFront=document.createElement("div"),this.divFront.setAttribute("class","surface front");var e=document.createElement("img");e.setAttribute("src","lesson/images/"+this.url),e.setAttribute("width","100px"),e.setAttribute("class","img"),this.divFront.appendChild(e),this.divCard.appendChild(this.divShirt),this.divCard.appendChild(this.divFront),this.divCard.addEventListener("click",this.onSelect.bind(this))}}]),t}();t.default=u},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),s=(r=o)&&r.__esModule?r:{default:r};var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.word=e.word,n.create(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),i(t,[{key:"create",value:function(){this.divCard=document.createElement("div"),this.divCard.setAttribute("class","card"),this.divShirt=document.createElement("div"),this.divShirt.setAttribute("class","surface shirt"),this.divFront=document.createElement("div"),this.divFront.setAttribute("class","surface front");var e=document.createElement("div");e.setAttribute("class","center"),this.divFront.appendChild(e);var t=document.createElement("p");t.setAttribute("class","word"),t.innerText=this.word,e.appendChild(t),this.divCard.appendChild(this.divShirt),this.divCard.appendChild(this.divFront),this.divCard.addEventListener("click",this.onSelect.bind(this))}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(6)),o=u(n(0)),s=u(n(4));function u(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.words=t,this.imgUrl=n,this.desk=document.getElementById("desk"),this.cards=[],this.firstCardIsFlipped=-1,this.secondCardIsFlipped=-1,this.init()}return r(e,[{key:"init",value:function(){console.dir(this.words),console.dir(this.imgUrl),this.createCards(),o.default.subscribe("signalFromCard",this.signalFromCard.bind(this))}},{key:"createCards",value:function(){for(var e=0;e<20;e+=2)this.cards[e]=new i.default({index:e,word:this.words[e],name:this.words[e]}),this.cards[e+1]=new s.default({index:e+1,url:this.imgUrl[e],name:this.words[e]}),this.desk.appendChild(this.cards[e].divCard),this.desk.appendChild(this.cards[e+1].divCard)}},{key:"signalFromCard",value:function(e,t){this[t.run](t.index)}},{key:"flip",value:function(e){var t=this;-1==this.firstCardIsFlipped?(this.firstCardIsFlipped=e,this.cards[e].flip()):-1==this.secondCardIsFlipped&&this.firstCardIsFlipped!=e&&(this.secondCardIsFlipped=e,this.cards[e].flip(),setTimeout(function(){t.cards[t.secondCardIsFlipped].flipBack(),t.cards[t.firstCardIsFlipped].flipBack()},2e3))}},{key:"flipBack",value:function(){Gl.cardTurns--,0==Gl.cardTurns&&(this.firstCardIsFlipped=-1,this.secondCardIsFlipped=-1)}}]),e}();t.default=a},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(7)),o=n(3),s=a(n(2)),u=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()}return r(e,[{key:"init",value:function(){u.default.subscribe("isReady",this.run.bind(this)),document.addEventListener("DOMContentLoaded",function(){new s.default;window.Gl=(0,o.Global)()})}},{key:"run",value:function(e,t){new i.default(t.words,t.imgUrl)}}]),e}())}]);